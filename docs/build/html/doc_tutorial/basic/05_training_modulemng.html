

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Module management &mdash; ViUR Core 3.0.0-b1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Data management" href="10_training_datamng.html" />
    <link rel="prev" title="Basis Tutorials" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> ViUR Core
          

          
          </a>

          
            
            
              <div class="version">
                3.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">ViUR Core</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../doc_start/index.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc_guide/index.html">Reference Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Basis Tutorials</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Module management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-modules">Creating modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-modification-interfaces">Data modification interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-processing-functions">Post-processing functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access-rights">Access rights</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="10_training_datamng.html">Data management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../advanced/index.html">Advanced Tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ViUR Core</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
        
          <li><a href="index.html">Basis Tutorials</a> &raquo;</li>
        
      <li>Module management</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/doc_tutorial/basic/05_training_modulemng.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-management">
<h1>Module management<a class="headerlink" href="#module-management" title="Permalink to this headline">¶</a></h1>
<p>In ViUR, any custom modules are established on top of one of the four module prototypes. The modules are the linchpin of every ViUR application. They provide interfaces to securely add, edit, delete or view entries, to perform custom operations and tasks, to prepare output data or validate input data.</p>
<p>The most commonly used module prototype is <a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List" title="core.prototypes.list.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>, which provides a flat list of database entries with the same entity kind. To become more familiar with the management of modules in general, the next sections are mostly using the <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code> module prototype again as its base. Moreover, the other module prototypes and their specialities are discussed later on, when the basics of the <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code> module are understood so far.</p>
<div class="section" id="creating-modules">
<h2>Creating modules<a class="headerlink" href="#creating-modules" title="Permalink to this headline">¶</a></h2>
<p>Creating a module is simple. It just requires to put a class named like the new module as a single Python file in the <code class="docutils literal notranslate"><span class="pre">modules/</span></code> directory of the current application.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">modules/person.py</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#-*- coding: utf-8 -*-</span>
<span class="kn">from</span> <span class="nn">server.prototypes</span> <span class="kn">import</span> <span class="n">List</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">List</span><span class="p">):</span>
   <span class="k">pass</span>
</pre></div>
</td></tr></table></div>
</div>
<p>This is already everything needed so far. The <strong>import</strong>-statement in line 2 imports the <a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List" title="core.prototypes.list.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> prototype. Certainly, it is also possible to import from another prototype or to import an already pre-build module from the server or from the current application itself. Any way of inheritance mechanism can be used here.</p>
<p>The <strong>class</strong>-statement in line 4 finally introduces the class of the new module, which inherits from the <a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List" title="core.prototypes.list.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> prototype. So this class initially provides all the features and functions provided by the <a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List" title="core.prototypes.list.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a> class.</p>
<p>The naming of the class has also two important purposes:</p>
<ol class="arabic simple">
<li><p>The module tries to resolve for a skeleton named after the module in lower-case order with a trailing “Skel” that is used as data model. So in this example, “personSkel” will be the name of the skeleton ViUR will try to resolve. This detection can be completely bypassed, by overriding <code class="xref py py-meth docutils literal notranslate"><span class="pre">baseSkel</span></code> and returning an appropriate skeleton instance.</p></li>
<li><p>If the default project setup has been done, the module is automatically imported in lower-case order (person) into the application, so it can be accessed by <code class="docutils literal notranslate"><span class="pre">/person</span></code> or <code class="docutils literal notranslate"><span class="pre">/renderer/person</span></code> as first part of the URL. This naming convention can be entirely changed by importing the module manually in the file <code class="docutils literal notranslate"><span class="pre">modules/__init__.py</span></code>.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you reload the Vi now, you’ll already see the new module showing up.
But it isn’t usable yet as it has no skeleton to work on.
See <a class="reference internal" href="index.html"><span class="doc">basics</span></a> to learn how skeletons and modules interact.</p>
</div>
</div>
<div class="section" id="data-modification-interfaces">
<h2>Data modification interfaces<a class="headerlink" href="#data-modification-interfaces" title="Permalink to this headline">¶</a></h2>
<p>All module prototypes provide several externally exposed functions for data modifications, serving as an interface to the web-application.</p>
<p>These functions are:</p>
<ul class="simple">
<li><p><strong>add</strong> for adding a new entry (<a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List.add" title="core.prototypes.list.List.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">List.add()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.add()</span></code>, <a class="reference internal" href="../../autoapi/core/prototypes/tree/index.html#core.prototypes.tree.Tree.add" title="core.prototypes.tree.Tree.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.add()</span></code></a>),</p></li>
<li><p><strong>delete</strong> for deleting an existing entry (<a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List.delete" title="core.prototypes.list.List.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">List.delete()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.delete()</span></code>, <a class="reference internal" href="../../autoapi/core/prototypes/tree/index.html#core.prototypes.tree.Tree.delete" title="core.prototypes.tree.Tree.delete"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.delete()</span></code></a>),</p></li>
<li><p><strong>edit</strong> for updating an existing entry (<a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List.edit" title="core.prototypes.list.List.edit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">List.edit()</span></code></a>, <a class="reference internal" href="../../autoapi/core/prototypes/singleton/index.html#core.prototypes.singleton.Singleton.edit" title="core.prototypes.singleton.Singleton.edit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Singleton.edit()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.edit()</span></code>, <a class="reference internal" href="../../autoapi/core/prototypes/tree/index.html#core.prototypes.tree.Tree.edit" title="core.prototypes.tree.Tree.edit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.edit()</span></code></a>),</p></li>
<li><p><strong>view</strong> for just viewing an existing entry (<a class="reference internal" href="../../autoapi/core/prototypes/list/index.html#core.prototypes.list.List.view" title="core.prototypes.list.List.view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">List.view()</span></code></a>, <a class="reference internal" href="../../autoapi/core/prototypes/singleton/index.html#core.prototypes.singleton.Singleton.view" title="core.prototypes.singleton.Singleton.view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Singleton.view()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.view()</span></code>, <a class="reference internal" href="../../autoapi/core/prototypes/tree/index.html#core.prototypes.tree.Tree.view" title="core.prototypes.tree.Tree.view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.view()</span></code></a>).</p></li>
</ul>
<p>These functions are entirely working on the skeleton API as described above. Every module also provides more, module-specific functions for data management, but this is not covered here.</p>
</div>
<div class="section" id="post-processing-functions">
<h2>Post-processing functions<a class="headerlink" href="#post-processing-functions" title="Permalink to this headline">¶</a></h2>
<p>Usually, the standard data modification functions from above should not be overridden in sub-classed modules, because they implement a secure and enclosed workflow. Nevertheless, it is possible to engage into these functions by overriding the so called event-driven functions, all taking the skeleton object of the specific operation, for further tasks or logics required.</p>
<ul class="simple">
<li><p><strong>onItemAdded</strong> after an item is newly added (<code class="xref py py-meth docutils literal notranslate"><span class="pre">List.onItemAdded()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.onItemAdded()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.onItemAdded()</span></code>),</p></li>
<li><p><strong>onItemDeleted</strong> after an existing item is deleted (<code class="xref py py-meth docutils literal notranslate"><span class="pre">List.onItemDeleted()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.onItemDeleted()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.onItemDeleted()</span></code>),</p></li>
<li><p><strong>onItemEdited</strong> after an existing entry is updated (<code class="xref py py-meth docutils literal notranslate"><span class="pre">List.onItemEdited()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Singleton.onItemEdited()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.edit()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.edit()</span></code>),</p></li>
<li><p><strong>onItemViewed</strong> right before an existing entry is viewed (<code class="xref py py-meth docutils literal notranslate"><span class="pre">List.onItemViewed()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Singleton.onItemViewed()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Hierarchy.onItemViewed()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Tree.onItemViewed()</span></code>).</p></li>
</ul>
</div>
<div class="section" id="access-rights">
<h2>Access rights<a class="headerlink" href="#access-rights" title="Permalink to this headline">¶</a></h2>
<p>Modules automatically provide access rights for <em>view</em>, <em>add</em>, <em>edit</em> and <em>delete</em>, which can be configured in the standard user module via the <code class="docutils literal notranslate"><span class="pre">access</span></code> bone for every user.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="10_training_datamng.html" class="btn btn-neutral float-right" title="Data management" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Basis Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Mausbrand Informationssysteme GmbH.
      <span class="lastupdated">
        Last updated on Mar 12, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>